{
    "extends": [
        "os.inception.profile/source/profile.proto.json"
    ],
    "uuid": "5ec4b801-f4fc-4f2f-8814-516a04e5512a",
    "upstream": {
        "packages": {
            "os-inception": "../os.inception/services/*/*"
        },
        "catalogs": {
            "os-inception": {
                "uri": "http://pio-catalog.os-inception-iae5f554-5.vm.cadorn.github.pinf.me:8013/catalog/io.pinf.pio/9781d77933600ddda5fae36437e04491222510bb",
                "headers": {
                    "x-pio.catalog-key": "37a1043d-596a-4bd5-bf60-6d057b30dec2"
                }
            }
        }
    },
    "mappings": {
        "os.inception.profile": "os-inception/os.inception.profile",
        "io.devcomp.tool.firefox": {
            "depends": [
                "os-inception/smi.cli"
            ],
            "location": "./services/devcomp.tool/io.devcomp.tool.firefox"
        }        
    },
    "config": {
        "pio": {
            "domain": "vm.cadorn.github.pinf.me",
            "namespace": "devcomp",
            "serviceRepositoryUri": "https://s3.amazonaws.com/dev.genesis.pio.service.repository/{{config.pio.namespace}}"
        },
        "pio.catalog": {
            "catalogs": {
                "io.devcomp": {
                    "uuid": "c352b2b8-d9f5-4da3-99af-8452a4e0c568",
                    "services": [
                        "devcomp/*",
                        "devcomp.tool/*",
                        "devcomp.meta/*",
                        "myissues/*"
                    ],
                    "config": {
                        "pio": {
                            "domain": "",
                            "serviceRepositoryUri": ""
                        },
                        "pio.dns": {
                            "adapters": {
                                "dnsimple": null
                            }
                        },
                        "pio.catalog": {
                            "catalogs": null
                        }
                    }
                }
            }
        }
    },
    "services": {
        "0-pio": {
            "pio.server": {
                "config": {
                    "adminSubdomain": "io-devcomp-portal",
                    "authorizedSessionUrl": "http://{{config.pio.hostname}}/user/session/authorized",
                    "logoutSessionUrl": "http://{{config.pio.hostname}}/logout"
                }
            },
            "pio.catalog": {
                "env": {
                    "PORT": "8102",
                    "AWS_ACCESS_KEY": "$AWS_ACCESS_KEY",
                    "AWS_SECRET_KEY": "$AWS_SECRET_KEY"
                },
                "config": {
                    "server": {
                        "port": 8013,
                        "allow": {
                            "self": {
                                "key": "1322705f-cac1-4028-a2c8-1aee1235119c",
                                "aspects": [
                                    "source",
                                    "scripts"
                                ]
                            }
                        }
                    }
                },
                "config.plugin": {
                    "pio.server": {
                        "vhosts": {
                            "pio-catalog.{{config.pio.hostname}}": {
                                "target": "127.0.0.1:8102",
                                "expose": true
                            }
                        }
                    }
                }
            }
        },
        "1-io.pinf": {
            "io.pinf.server.auth": {
                "config": {
                    "passport": {
                        "github": {
                            "configUrl": "",
                            "clientID": "",
                            "clientSecret": "",
                            "callbackURL": "http://{{config.pio.hostname}}/login/github",
                            "scope": ""
                        }
                    },
                    "groups": {
                        "owners": {
                            "role": "OWNER",
                            "inherits": "https://github.com/orgs/devcomp-io/teams/owners"
                        },
                        "admin": {
                            "role": "CORE-CONTRIBUTOR",
                            "inherits": "https://github.com/orgs/devcomp-io/teams/core-contributors"
                        }
                    },
                    "loggedInRedirect": "http://io-devcomp-portal.{{config.pio.hostname}}:8013/"
                }
            }
        },
        "devcomp.meta": {
            "io.devcomp.meta.profiles": {
                "depends": [
                    "pio.postdeploy"
                ]
            }
        },
        "devcomp": {
            "io.devcomp": {
                "depends": [
                    "io.pinf.server.www"
                ],
                "env": {
                    "PORT": 81
                },
                "config.plugin": {
                    "pio.proxy": {
                        "vhosts": {
                            "devcomp.io": "127.0.0.1:81",
                            "io-devcomp.{{config.pio.hostname}}": "127.0.0.1:81"
                        }
                    },
                    "pio.server": {
                        "vhosts": {
                            "io-devcomp.{{config.pio.hostname}}": "127.0.0.1:81"
                        }
                    }
                }
            },
            "io.devcomp.learn": {
                "depends": [
                    "io.pinf.server.www"
                ],
                "env": {
                    "PORT": 82
                },
                "config": {
                    "www": {
                        "extends": [
                            "127.0.0.1:8103",
                            {
                                "host": "127.0.0.1:8105",
                                "theme": "github.com~almasaeed2010~AdminLTE"
                            },
                            "127.0.0.1:8106",
                            "127.0.0.1:8104"
                        ]
                    }
                },
                "config.plugin": {
                    "pio.proxy": {
                        "vhosts": {
                            "learn.devcomp.io": "127.0.0.1:82",
                            "io-devcomp-learn.{{config.pio.hostname}}": "127.0.0.1:82"
                        }
                    },
                    "pio.server": {
                        "vhosts": {
                            "io-devcomp-learn.{{config.pio.hostname}}": "127.0.0.1:82"
                        }
                    }
                }
            },
            "io.devcomp.portal": {
                "depends": [
                    "io.pinf.server.www"
                ],
                "env": {
                    "PORT": 84
                },
                "config": {
                    "internalStatusAuthToken": "f2d5af52-2d78-4145-ad89-4ccec7af91bf",
                    "memcachedHost": "127.0.0.1:11211",
                    "rethinkdbHost": "127.0.0.1:28015",
                    "www": {
                        "extends": [
                            "127.0.0.1:8103",
                            {
                                "host": "127.0.0.1:8105",
                                "theme": "github.com~almasaeed2010~AdminLTE"
                            },
                            "127.0.0.1:8106",
                            {
                                "host": "127.0.0.1:8104",
                                "headers": {
                                    "x-session-url": "$x-session-url"
                                }
                            }
                        ]
                    }
                },
                "config.plugin": {
                    "pio.server": {
                        "vhosts": {
                            "io-devcomp-portal.{{config.pio.hostname}}": "127.0.0.1:84"
                        }
                    },
                    "io.pinf.server.uptime": {
                        "checks": {
                            "/_internal_status": {
                                "url": "http://127.0.0.1:84/_internal_status",
                                "pollerParams": {
                                    "match": "",
                                    "http_options": {
                                        "x-auth-token": "f2d5af52-2d78-4145-ad89-4ccec7af91bf"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "devcomp.tool": {
            "io.devcomp.tool.terminal": {
                "depends": [
                    "io.pinf.server.www"
                ],
                "env": {
                    "PORT": 83
                },
                "config.plugin": {
                    "pio.server": {
                        "vhosts": {
                            "io-devcomp-tool-terminal.{{config.pio.hostname}}": "127.0.0.1:83"
                        }
                    }
                }
            },
            "io.devcomp.tool.stats": {
                "depends": [
                    "io.pinf.server.www"
                ],
                "env": {
                    "PORT": 86
                },
                "config": {
                    "internalStatusAuthToken": "0eccf025-2757-4979-8054-50f7fdda148c"
                },
                "config.plugin": {
                    "pio.server": {
                        "vhosts": {
                            "io-devcomp-tool-stats.{{config.pio.hostname}}": "127.0.0.1:86"
                        }
                    },
                    "io.pinf.server.uptime": {
                        "checks": {
                            "/_internal_status": {
                                "url": "http://127.0.0.1:86/_internal_status",
                                "pollerParams": {
                                    "match": "",
                                    "http_options": {
                                        "x-auth-token": "0eccf025-2757-4979-8054-50f7fdda148c"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "io.devcomp.tool.test": {
                "depends": [
                    "io.pinf.server.www"
                ],
                "env": {
                    "PORT": 87
                },
                "config": {
                    "internalStatusAuthToken": "e8c34aed-443d-48c3-a42e-cf88482174f4"
                },
                "config.plugin": {
                    "pio.server": {
                        "vhosts": {
                            "io-devcomp-tool-test.{{config.pio.hostname}}": "127.0.0.1:87"
                        }
                    },
                    "io.pinf.server.uptime": {
                        "checks": {
                            "/_internal_status": {
                                "url": "http://127.0.0.1:87/_internal_status",
                                "pollerParams": {
                                    "match": "",
                                    "http_options": {
                                        "x-auth-token": "e8c34aed-443d-48c3-a42e-cf88482174f4"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "io.devcomp.tool.firefox": {
                "depends": [
                    "io.pinf.server.www"
                ]
            }
        },
        "myissues": {
            "myissues.collector.github": {
                "depends": [
                    "io.pinf.server.www"
                ],
                "env": {
                    "PORT": 85
                },
                "config": {
                    "memcachedHost": "127.0.0.1:11211",
                    "rethinkdbHost": "127.0.0.1:28015",
                    "watch": {
                        "organizations": {
                            "pinf-io": true,
                            "devcomp-io": true
                        }
                    }
                },
                "config.plugin": {
                    "pio.server": {
                        "vhosts": {
                            "myissues-collector-github.{{config.pio.hostname}}": "127.0.0.1:85"
                        }
                    }
                }
            }
        }
    },
    "overrides": [
        "{{env.PIO_PROFILE_PATH}}"
    ]
}